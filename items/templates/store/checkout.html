{% extends 'store/main.html' %}
{% load static %}
{% block content %}
{% load crispy_forms_filters %}
<div class="col-md-4 container-fluid
     bg-default">
     <a class = "btn btn-outline-light" href="{% url 'cart' %}" >&#x2190; Back to Cart </a>
    <h4 class="my-4">
        Billing Address
    </h4>

    <form id="myForm" method="POST" action="#">
        {% csrf_token %}
        <div class="form-group">
           {{form.address|as_crispy_field}}
            
        </div>


        <div class="row">
            <div class="col-md-6 form-group">
                <div class="form-group">
                    {{form.country|as_crispy_field}}
                </div>
            </div>

            <div class="col-md-6 form-group">
                <div class="form-group">
                    {{form.city|as_crispy_field}}
                </div>
            </div>

            <div class="col-md-4 form-group">
                <div class="form-group">
                    {{form.zip|as_crispy_field}}
            
                </div>
            </div>
        </div>

        <hr>

        <hr>

        <h4 class="mb-4">Payment</h4>
        <div class="form-check">
            <input type="radio" class="form-check-input" id="COD" name="payment-method" required>
            <label for="debit" class="form-check-label">Cash on Delivery</label>
        </div>
        <div class="form-check">
            <input type="radio" class="form-check-input" id="credit" name="payment-method" required>
            <label for="credit" class="form-check-label">Credit Card</label>
        </div>

        

        <div id="pcredit">
            <div class="row mt-4">
                <div class="col-md-6 form-group">
                    <label for="card-name">Name on card</label>
                    <input type="text" class="form-control" id="card-name" placeholder required>
                    <div class="invalid-feedback">
                        Name on card is required
                    </div>
                </div>

                <div class="col-md-6 form-group">
                    <label for="card-no">Card Number</label>
                    <input type="text" class="form-control" id="card-no" placeholder required>
                    <div class="invalid-feedback">
                        Credit card number is required
                    </div>
                </div>
            </div>

            <div class="form-row">
                <div class="col-md-5 form-group">
                    <label for="expiration">Expire Date</label>
                    <input type="text" class="form-control" id="expiry" placeholder required>
                    <div class="invalid-feedback">
                        Expiration date required
                    </div>
                </div>


                <div class="col-md-5 form-group">
                    <label for="ccv-no">Security Number</label>
                    <input type="text" class="form-control" id="sec-no" placeholder required>
                    <div class="invalid-feedback">
                        Security code required
                    </div>
                </div>
            </div>
        </div>
        

        <hr class="mb-4">

        <button class="btn btn-primary bt-lg btn-block" type="submit">Purchase</button>
    </form>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
    var form = $('#myForm'),
    
        chShipBlock = $('#pcredit');

    chShipBlock.hide();

    $("input[type='radio']").click(function() {
    if($("#credit").is(':checked')) {
        chShipBlock.show();
        chShipBlock.find('input').attr('required', true);
    } else {
        chShipBlock.hide();
        chShipBlock.find('input').attr('required', false);
    }
    });
    }
)
    
</script>
{% endblock content %}